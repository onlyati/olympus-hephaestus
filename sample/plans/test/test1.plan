#!/usr/local/bin/hephaestus-plan

<plan id="test1"></plan>

# Stop gitlab
<step name="step01" 
      desc="Stop Gitlab">
ls -l
</step>

# Create backup
<step name="step02" 
      desc="Create backup" 
      cwd="/home/ati/work/OnlyAti.Hephaestus/sample/plans/test"
      parent="step01">
./test.sh
</step>

# Start gitlab back
<step name="step03"
      desc="Start Gitlab"
      parent="step02">
ls /home
</step>

# Error handler steps
<recovery name="fail02A"
          parent="step02"
          desc="Alert & start Gitlab back">
ls -l
</recovery>

<recovery name="fail02B"
          parent="step02"
          desc="Alert & start Gitlab back">
whoami
</recovery>
